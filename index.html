<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>OnePiece Burger — Hamburguesería</title>
  <meta name="description" content="Vive la aventura gastronómica en OnePiece Burger, hamburguesería temática marinera.">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --bg:#090e1a;
      --primary:#ffb84c;
      --secondary:#ffe174;
      --text:#f3f6fc;
      --muted:#b6bed2;
      --glass:rgba(255,255,255,0.08);
      --nav-glass:rgba(255,255,255,0.05);
      --section-border:#ffe174;
    }
    *{box-sizing:border-box;scroll-behavior:smooth;}
    body{margin:0;font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;}
    a{color:inherit;text-decoration:none}

    /* Sticky navbar */
    .nav{
      position:fixed;
      top:15px;
      left:50%;
      transform:translateX(-50%);
      display:flex;
      align-items:center;
      justify-content:space-between;
      width:90%;
      max-width:1100px;
      padding:12px 24px;
      background:var(--nav-glass);
      backdrop-filter:blur(14px) saturate(120%);
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.05);
      box-shadow:0 6px 25px rgba(0,0,0,0.4);
      z-index:999;
      transition: all 0.3s ease;
    }
    .logo{font-weight:800;font-size:1.2rem;color:var(--primary)}
    nav a{margin:0 10px;font-weight:600;position:relative;}
    nav a::after{content:'';position:absolute;bottom:-3px;left:0;width:0;height:2px;background:var(--secondary);transition:.3s}
    nav a:hover::after{width:100%}

    /* Mobile menu */
    .mobile-menu-btn{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer;}
    .mobile-nav{display:none;position:fixed;top:0;left:0;width:100%;height:100vh;background:var(--bg);z-index:1000;flex-direction:column;justify-content:center;align-items:center;transition:transform 0.3s ease;}
    .mobile-nav.active{display:flex;animation:slideIn 0.3s ease forwards;}
    .mobile-nav.closing{animation:slideOut 0.3s ease forwards;}
    .mobile-nav a{font-size:1.5rem;margin:15px 0;padding:10px 20px;border-radius:8px;transition:background 0.3s;}
    .mobile-nav a:hover{background:var(--glass);}
    .close-btn{position:absolute;top:20px;right:20px;background:none;border:none;color:var(--text);font-size:1.8rem;cursor:pointer;}

    /* Hero - Sin línea lateral y ocupa toda la pantalla */
    .hero{
      height:100vh;
      background:url('https://images.unsplash.com/photo-1550317138-10000687a72b?auto=format&fit=crop&w=1600&q=80') center/cover no-repeat;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
      border-left: none !important;
      padding: 0;
      margin-bottom: 0;
      opacity: 1 !important; /* Fuerza que sea visible */
      transform: none !important; /* Elimina transformaciones */
    }
    .hero::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,0.55);}
    .hero-content{position:relative;text-align:center;z-index:2;color:white;max-width:700px;padding:0 1rem;}
    .hero h1{font-size:3rem;margin-bottom:10px;}
    .hero p{font-size:1.1rem;margin-bottom:24px;color:#e9ecf5;}
    .hero button{padding:12px 24px;font-weight:700;background:linear-gradient(90deg,var(--primary),var(--secondary));color:#111;border:none;border-radius:12px;cursor:pointer;transition:transform .2s;}
    .hero button:hover{transform:scale(1.05)}

    /* Animated waves */
    .waves{
      position:absolute;bottom:0;left:0;width:100%;height:120px;overflow:hidden;line-height:0;
    }
    .waves svg{position:relative;display:block;width:calc(100% + 1.3px);height:120px;}
    .waves .shape-fill{fill:var(--primary);opacity:.2;animation:waveMove 8s linear infinite alternate;}
    @keyframes waveMove {from{transform:translateX(0);}to{transform:translateX(-50px);}}

    /* Sections */
    section{
      padding:80px 1rem;
      max-width:1100px;
      margin:0 auto;
      position:relative;
      transition:all .5s ease;
      border-left:4px solid var(--section-border);
      margin-bottom: 40px;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    section:nth-of-type(even){background:rgba(255,255,255,0.02);border-radius:24px;}
    section h2{text-align:center;font-size:2rem;color:var(--primary);margin-bottom:20px;}
    section p.sub{color:var(--muted);text-align:center;margin-bottom:40px;}

    /* About */
    .about{display:flex;align-items:center;gap:40px;flex-wrap:wrap;justify-content:center;}
    .about img{width:100%;max-width:600px;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,0.5);filter:grayscale(100%) brightness(120%);}
    .about-text{flex:1;}

    /* Menu */
    .menu-container{display:flex;justify-content:center;margin-top:40px;}
    .menu-image{width:100%;max-width:800px;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,0.5);}
    .placeholder-text{text-align:center;color:var(--muted);font-style:italic;margin-top:20px;}

    /* Crew section */
    .crew{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-top:40px;}
    .crew-card{background:rgba(255,255,255,0.03);padding:20px;border-radius:16px;text-align:center;transition:transform .3s, box-shadow .3s;}
    .crew-card:hover{transform:translateY(-10px) scale(1.03);box-shadow:0 10px 20px rgba(0,0,0,0.4);}
    .crew-card img{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:10px;border:2px solid var(--primary);}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:40px;}
    .gallery img{width:100%;height:250px;object-fit:cover;border-radius:16px;transition:transform .4s, box-shadow .4s;}
    .gallery img:hover{transform:scale(1.05);box-shadow:0 10px 25px rgba(0,0,0,0.5);}

    /* Schedule */
    .schedule{display:flex;justify-content:center;margin-top:40px;}
    .schedule-table{width:100%;max-width:500px;border-collapse:collapse;}
    .schedule-table tr{border-bottom:1px solid rgba(255,255,255,0.1);}
    .schedule-table tr:last-child{border-bottom:none;}
    .schedule-table td{padding:12px 15px;}
    .schedule-table td:first-child{font-weight:600;color:var(--primary);}
    .schedule-table td:last-child{text-align:right;}

    /* Contact */
    form{display:flex;flex-direction:column;gap:12px;max-width:400px;margin:auto;}
    input,textarea{background:rgba(255,255,255,0.05);border:none;padding:10px;border-radius:10px;color:var(--text);}
    form button{align-self:center;margin-top:10px;}

    /* Footer */
    footer{padding:60px 1rem;text-align:center;background:rgba(255,255,255,0.02);}

    /* WhatsApp Button */
    .whatsapp-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #25D366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      z-index: 998;
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
    }
    .whatsapp-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
    }

    /* Assistant Button */
    .assistant-btn {
      position: fixed;
      bottom: 90px;
      right: 20px;
      background-color: var(--primary);
      color: #111;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      z-index: 998;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .assistant-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
    }

    /* Assistant Panel */
    .assistant-panel {
      position: fixed;
      bottom: 160px;
      right: 20px;
      width: 320px;
      height: 400px;
      background: var(--bg);
      border: 1px solid var(--primary);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      z-index: 997;
      display: none;
      flex-direction: column;
      overflow: hidden;
    }
    .assistant-panel.active {
      display: flex;
    }
    .assistant-header {
      background: var(--primary);
      color: #111;
      padding: 12px 16px;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .assistant-close {
      background: none;
      border: none;
      color: #111;
      font-size: 1.2rem;
      cursor: pointer;
    }
    .assistant-messages {
      flex: 1;
      padding: 16px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .assistant-message {
      padding: 10px 14px;
      border-radius: 12px;
      max-width: 85%;
      line-height: 1.4;
    }
    .assistant-message.bot {
      background: var(--glass);
      align-self: flex-start;
    }
    .assistant-message.user {
      background: var(--primary);
      color: #111;
      align-self: flex-end;
    }
    .assistant-input {
      display: flex;
      padding: 12px;
      border-top: 1px solid rgba(255,255,255,0.1);
    }
    .assistant-input input {
      flex: 1;
      background: rgba(255,255,255,0.05);
      border: none;
      padding: 10px;
      border-radius: 10px;
      color: var(--text);
    }
    .assistant-input button {
      background: var(--primary);
      color: #111;
      border: none;
      padding: 10px 14px;
      border-radius: 10px;
      margin-left: 8px;
      cursor: pointer;
      font-weight: 600;
    }

    /* Assistant Notification */
    .assistant-notification {
      position: fixed;
      bottom: 160px;
      right: 20px;
      background: var(--primary);
      color: #111;
      padding: 12px 16px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      z-index: 996;
      display: none;
      max-width: 250px;
      animation: slideInNotification 0.3s ease;
    }
    .assistant-notification.active {
      display: block;
    }
    .assistant-notification p {
      margin: 0 0 10px 0;
      font-weight: 600;
    }
    .assistant-notification button {
      background: var(--bg);
      color: var(--text);
      border: none;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
    }

    @keyframes slideInNotification {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
      70% { box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); }
      100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
    }

    /* Map Section */
    .map-container {
      margin-top: 40px;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
      height: 400px;
    }
    .map-container iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Instagram Icon */
    .instagram-icon {
      display: inline-block;
      margin-top: 20px;
      font-size: 2rem;
      color: var(--primary);
      transition: all 0.3s ease;
    }
    .instagram-icon:hover {
      color: var(--secondary);
      transform: scale(1.1);
    }

    /* Form Success Message */
    .form-success {
      background: rgba(76, 175, 80, 0.1);
      border: 1px solid rgba(76, 175, 80, 0.3);
      color: #4CAF50;
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      margin-top: 15px;
      display: none;
    }

    /* Animations */
    @keyframes fadeInUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}
    @keyframes fadeInDown{from{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}
    @keyframes fadeInLeft{from{transform:translateX(-40px);opacity:0}to{transform:translateX(0);opacity:1}}
    @keyframes fadeInRight{from{transform:translateX(40px);opacity:0}to{transform:translateX(0);opacity:1}}
    @keyframes slideIn{from{transform:translateX(-100%);}to{transform:translateX(0);}}
    @keyframes slideOut{from{transform:translateX(0);}to{transform:translateX(-100%);}}

    /* Button */
    .btn{background:linear-gradient(90deg,var(--primary),var(--secondary));border:none;color:#111;padding:8px 14px;border-radius:10px;font-weight:700;margin-top:8px;cursor:pointer;transition:.3s;}
    .btn:hover{transform:scale(1.05)}

    /* Responsive */
    @media (max-width: 768px) {
      .desktop-nav{display:none;}
      .mobile-menu-btn{display:block;}
      section{padding:60px 1rem;margin-bottom:30px;}
      .hero h1{font-size:2.5rem;} /* Título más grande en móvil */
      section h2{font-size:1.8rem;} /* Títulos de sección más grandes en móvil */
      nav{display:none;}
      .mobile-menu-btn{display:block;}
      .whatsapp-btn, .assistant-btn {
        width: 55px;
        height: 55px;
        font-size: 24px;
      }
      .assistant-panel {
        width: 300px;
        height: 380px;
        right: 10px;
      }
      .assistant-notification {
        right: 10px;
        max-width: 280px;
      }
    }
  </style>
</head>
<body>
  <div class="nav">
    <div class="logo">OnePiece Burger</div>
    <nav>
      <a href="#about">Nosotros</a>
      <a href="#menu">Carta</a>
      <a href="#schedule">Horario</a>
      <a href="#crew">Nuestro Equipo</a>
      <a href="#gallery">Galería</a>
      <a href="#location">Ubicación</a>
      <a href="#contact">Reservas</a>
    </nav>
    <button class="mobile-menu-btn">
      <i class="fas fa-bars"></i>
    </button>
  </div>

  <div class="mobile-nav" id="mobileNav">
    <button class="close-btn">
      <i class="fas fa-times"></i>
    </button>
    <a href="#about" class="mobile-nav-link">Nosotros</a>
    <a href="#menu" class="mobile-nav-link">Carta</a>
    <a href="#schedule" class="mobile-nav-link">Horario</a>
    <a href="#crew" class="mobile-nav-link">Nuestro Equipo</a>
    <a href="#gallery" class="mobile-nav-link">Galería</a>
    <a href="#location" class="mobile-nav-link">Ubicación</a>
    <a href="#contact" class="mobile-nav-link">Reservas</a>
  </div>

  <section class="hero">
    <div class="hero-content">
      <h1>El Sabor de OnePiece te Espera</h1>
      <p>Embárcate en una experiencia única: hamburguesas artesanas y aventuras de sabor inolvidables.</p>
      <button onclick="document.querySelector('#about').scrollIntoView({behavior:'smooth'})">Descubre más</button>
    </div>
    <div class="waves">
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.21,103.59,29,158,17.39C274.46,36.3,348.54,0,423,0c77.49,0,148.68,38.47,226,46.29C726.68,54,798,27.71,862,12c70-17.86,136.67-9.06,198,7.08V0Z" class="shape-fill"></path></svg>
    </div>
  </section>

  <section id="about">
    <h2>Sobre Nosotros</h2>
    <p class="sub">Una hamburguesería temática de One Piece, prometemos calidad.</p>
    <div class="about">
      <img src="IMG_7511.jpeg" alt="Local temático marinero">
    </div>
  </section>

  <section id="menu">
    <h2>Precios Hamburguesas</h2>
    <p class="sub">Hamburguesas y delicias para todos los gustos.</p>
    <div class="menu-container">
      <img src="IMG_7507.jpeg" alt="Carta de OnePiece Burger" class="menu-image">
    </div>
  </section>

  <section id="schedule">
    <h2>Horario</h2>
    <p class="sub">Estamos abiertos todos los días para servirte</p>
    <div class="schedule">
      <table class="schedule-table">
        <tr><td>Viernes</td><td>10:00–23:30</td></tr>
        <tr><td>Sábado</td><td>10:00–23:30</td></tr>
        <tr><td>Domingo</td><td>10:00–23:30</td></tr>
        <tr><td>Lunes</td><td>10:00–23:30</td></tr>
        <tr><td>Martes</td><td>10:00–23:30</td></tr>
        <tr><td>Miércoles</td><td>10:00–23:30</td></tr>
        <tr><td>Jueves</td><td>10:00–23:30</td></tr>
      </table>
    </div>
  </section>

  <section id="crew">
    <h2>Nuestro Equipo</h2>
    <p class="sub">Cada miembro aporta un toque único a nuestra experiencia gastronómica.</p>
    <div class="crew">
      <div class="crew-card"><img src="https://i.imgur.com/ntGf5Z1.png" alt="Chef principal"><h3>Capitán Chef</h3><p>Responsable de nuestras hamburguesas estrella y creador de nuevas recetas.</p></div>
      <div class="crew-card"><img src="https://i.imgur.com/2rQm2TX.png" alt="Sous Chef"><h3>Sous Chef</h3><p>Experto en sabores y combinaciones que sorprenden a todos los paladares.</p></div>
    </div>
  </section>

  <section id="gallery">
    <h2>Galería</h2>
    <p class="sub">Explora nuestro ambiente y nuestras delicias.</p>
    <div class="gallery">
      <img src="IMG_7508.jpeg" alt="Hamburguesa doble Carne Smash">
      <img src="IMG_7509.jpeg" alt="Hamburguesas">
      <img src="IMG_7510.jpeg" alt="Zoro Roronoa">
    </div>
  </section>

  <!-- Ubicación ahora está aquí, debajo de Galería y encima de Reservas -->
  <section id="location">
    <h2>Ubicación</h2>
    <p class="sub">Encuéntranos en el corazón de Tarragona</p>
    <div class="map-container">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2995.113370557387!2d1.255415215424835!3d41.31590297927086!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12a37f5b6f5b5b5b%3A0x9b8c5b5b5b5b5b5b!2sPla%C3%A7a%20de%20la%20Font%2C%2047%2C%2043003%20Tarragona!5e0!3m2!1ses!2ses!4v1647000000000!5m2!1ses!2ses" allowfullscreen="" loading="lazy"></iframe>
    </div>
  </section>

  <section id="contact">
    <h2>Reserva tu Mesa</h2>
    <p class="sub">Zarpa hacia una experiencia inolvidable. ¡Te esperamos en nuestra hamburguesería!</p>
    <form id="reservationForm">
      <input type="text" id="name" placeholder="Nombre" required>
      <input type="email" id="email" placeholder="Correo electrónico" required>
      <input type="tel" id="phone" placeholder="Teléfono" required>
      <input type="number" id="people" placeholder="Número de personas" min="1" required>
      <input type="datetime-local" id="datetime" required>
      <textarea rows="3" id="message" placeholder="Mensaje o solicitud especial"></textarea>
      <button class="btn" type="submit">Reservar Mesa</button>
    </form>
    <div class="form-success" id="formSuccess">
      ¡Reserva enviada correctamente! TE CONTACTAREMOS PRONTO PARA CONFIRMAR.
    </div>
  </section>

  <footer>
    <p>☠️ OnePiece Burger — 2025 © Todos los derechos reservados</p>
    <p style="color:var(--muted)">El sabor de OnePiece te espera en cada mordisco.</p>
    <a href="https://www.instagram.com/onepice_burger" target="_blank" class="instagram-icon">
      <i class="fab fa-instagram"></i>
    </a>
  </footer>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/34662933832" class="whatsapp-btn" target="_blank">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Assistant Button -->
  <div class="assistant-btn" id="assistantBtn">
    <i class="fas fa-robot"></i>
  </div>

  <!-- Assistant Panel -->
  <div class="assistant-panel" id="assistantPanel">
    <div class="assistant-header">
      <span>Asistente OnePiece</span>
      <button class="assistant-close" id="assistantClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="assistant-messages" id="assistantMessages">
      <div class="assistant-message bot">
        ¡Hola! Soy tu asistente de OnePiece Burger. ¿En qué puedo ayudarte? Puedes preguntarme sobre horarios, menú, ubicación o reservas.
      </div>
    </div>
    <div class="assistant-input">
      <input type="text" id="assistantInput" placeholder="Escribe tu pregunta...">
      <button id="assistantSend">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>

  <!-- Assistant Notification -->
  <div class="assistant-notification" id="assistantNotification">
    <p>¡Hola! ¿Tienes alguna duda?</p>
    <button id="notificationYes">Sí, tengo</button>
    <button id="notificationNo">No, gracias</button>
  </div>

  <script>
    // Mobile menu functionality
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const mobileNav = document.getElementById('mobileNav');
    const closeBtn = document.querySelector('.close-btn');
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

    function openMobileMenu() {
      mobileNav.classList.add('active');
      mobileNav.classList.remove('closing');
    }

    function closeMobileMenu() {
      mobileNav.classList.add('closing');
      setTimeout(() => {
        mobileNav.classList.remove('active');
        mobileNav.classList.remove('closing');
      }, 300);
    }

    mobileMenuBtn.addEventListener('click', openMobileMenu);
    closeBtn.addEventListener('click', closeMobileMenu);

    // Close mobile menu when a link is clicked
    mobileNavLinks.forEach(link => {
      link.addEventListener('click', () => {
        closeMobileMenu();
      });
    });

    // Smooth scrolling for all navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Scroll animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    // Observe all sections except hero
    document.querySelectorAll('section:not(.hero)').forEach(section => {
      observer.observe(section);
    });

    // Email Reservation Form
    document.getElementById('reservationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      const people = document.getElementById('people').value;
      const datetime = document.getElementById('datetime').value;
      const message = document.getElementById('message').value;
      
      // Format the date and time
      const dateObj = new Date(datetime);
      const formattedDate = dateObj.toLocaleDateString('es-ES');
      const formattedTime = dateObj.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
      
      // Create email subject and body
      const subject = `Nueva Reserva - ${name}`;
      const body = `Nueva reserva recibida:%0A%0A` +
                  `*Nombre:* ${name}%0A` +
                  `*Email:* ${email}%0A` +
                  `*Teléfono:* ${phone}%0A` +
                  `*Número de personas:* ${people}%0A` +
                  `*Fecha y hora:* ${formattedDate} a las ${formattedTime}%0A` +
                  `*Mensaje:* ${message || 'Sin mensaje adicional'}`;
      
      // Send email (using mailto as fallback)
      window.location.href = `mailto:onepieceburger@gmail.com?subject=${encodeURIComponent(subject)}&body=${body}`;
      
      // Show success message
      const successMessage = document.getElementById('formSuccess');
      successMessage.style.display = 'block';
      
      // Reset form
      this.reset();
      
      // Hide success message after 5 seconds
      setTimeout(() => {
        successMessage.style.display = 'none';
      }, 5000);
    });

    // Assistant functionality
    const assistantBtn = document.getElementById('assistantBtn');
    const assistantPanel = document.getElementById('assistantPanel');
    const assistantClose = document.getElementById('assistantClose');
    const assistantMessages = document.getElementById('assistantMessages');
    const assistantInput = document.getElementById('assistantInput');
    const assistantSend = document.getElementById('assistantSend');
    const assistantNotification = document.getElementById('assistantNotification');
    const notificationYes = document.getElementById('notificationYes');
    const notificationNo = document.getElementById('notificationNo');

    // Normalize text (remove accents and convert to lowercase)
    function normalizeText(text) {
      return text.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
    }

    // Assistant responses
    const responses = {
      'hola': '¡Hola! ¿En qué puedo ayudarte? Puedes preguntarme sobre nuestro horario, menú, ubicación o cómo hacer una reserva.',
      'horario': 'Estamos abiertos todos los días de 10:00 a 23:30 horas.',
      'horarios': 'Estamos abiertos todos los días de 10:00 a 23:30 horas.',
      'abierto': 'Estamos abiertos todos los días de 10:00 a 23:30 horas.',
      'menu': 'Tenemos una variedad de hamburguesas artesanales. Puedes ver nuestra carta completa en la sección "Precios Hamburguesas".',
      'carta': 'Tenemos una variedad de hamburguesas artesanales. Puedes ver nuestra carta completa en la sección "Precios Hamburguesas".',
      'precio': 'Puedes ver todos nuestros precios en la sección "Precios Hamburguesas" de nuestra página.',
      'precios': 'Puedes ver todos nuestros precios en la sección "Precios Hamburguesas" de nuestra página.',
      'ubicacion': 'Nos encontramos en Plaça de la Font, 47, 43003 Tarragona. Puedes ver nuestra ubicación exacta en la sección "Ubicación".',
      'donde': 'Nos encontramos en Plaça de la Font, 47, 43003 Tarragona. Puedes ver nuestra ubicación exacta en la sección "Ubicación".',
      'direccion': 'Nos encontramos en Plaça de la Font, 47, 43003 Tarragona. Puedes ver nuestra ubicación exacta en la sección "Ubicación".',
      'reserva': 'Puedes hacer tu reserva a través del formulario en la sección "Reservas" o directamente por WhatsApp.',
      'reservar': 'Puedes hacer tu reserva a través del formulario en la sección "Reservas" o directamente por WhatsApp.',
      'contacto': 'Puedes contactarnos a través del formulario de reservas o por WhatsApp al 662 93 38 32.',
      'telefono': 'Puedes contactarnos por WhatsApp al 662 93 38 32.',
      'instagram': 'Síguenos en Instagram: @onepice_burger',
      'equipo': 'Nuestro equipo está formado por chefs expertos que crean hamburguesas únicas. Puedes conocerlos en la sección "Nuestro Equipo".',
      'chef': 'Nuestro equipo está formado por chefs expertos que crean hamburguesas únicas. Puedes conocerlos en la sección "Nuestro Equipo".',
      'hamburguesa': 'Ofrecemos hamburguesas artesanales con ingredientes de calidad. ¡Tenemos opciones para todos los gustos!',
      'hamburguesas': 'Ofrecemos hamburguesas artesanales con ingredientes de calidad. ¡Tenemos opciones para todos los gustos!',
      'one piece': '¡Sí! Somos una hamburguesería temática de One Piece. Ven a vivir la aventura gastronómica.',
      'onepiece': '¡Sí! Somos una hamburguesería temática de One Piece. Ven a vivir la aventura gastronómica.',
      'default': 'Lo siento, no entendí tu pregunta. Puedes preguntarme sobre horarios, menú, ubicación, reservas o nuestro equipo.'
    };

    // Find the best response for a question
    function getResponse(question) {
      const normalizedQuestion = normalizeText(question);
      
      // Check for exact matches first
      for (const [key, response] of Object.entries(responses)) {
        if (normalizedQuestion.includes(normalizeText(key))) {
          return response;
        }
      }
      
      // Check for partial matches
      for (const [key, response] of Object.entries(responses)) {
        const normalizedKey = normalizeText(key);
        if (normalizedQuestion.includes(normalizedKey)) {
          return response;
        }
      }
      
      return responses.default;
    }

    // Add message to assistant
    function addMessage(text, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('assistant-message');
      messageDiv.classList.add(isUser ? 'user' : 'bot');
      messageDiv.textContent = text;
      assistantMessages.appendChild(messageDiv);
      assistantMessages.scrollTop = assistantMessages.scrollHeight;
    }

    // Handle assistant input
    function handleAssistantInput() {
      const question = assistantInput.value.trim();
      if (question) {
        addMessage(question, true);
        assistantInput.value = '';
        
        // Simulate thinking
        setTimeout(() => {
          const response = getResponse(question);
          addMessage(response);
        }, 500);
      }
    }

    // Event listeners for assistant
    assistantBtn.addEventListener('click', () => {
      assistantPanel.classList.toggle('active');
      assistantNotification.classList.remove('active');
    });

    assistantClose.addEventListener('click', () => {
      assistantPanel.classList.remove('active');
    });

    assistantSend.addEventListener('click', handleAssistantInput);

    assistantInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        handleAssistantInput();
      }
    });

    // Assistant notification functionality
    notificationYes.addEventListener('click', () => {
      assistantNotification.classList.remove('active');
      assistantPanel.classList.add('active');
    });

    notificationNo.addEventListener('click', () => {
      assistantNotification.classList.remove('active');
    });

    // Show assistant notification after 5 seconds
    setTimeout(() => {
      assistantNotification.classList.add('active');
    }, 5000);
  </script>
</body>
</html>
